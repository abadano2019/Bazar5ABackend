<button onclick="location.href='/users/logout'">LOGOUT</button>


<!--<button onclick="location.href=''">COMPRAR</button>-->

<!--<h2>¡¡¡¡¡¡Bienvendio {{productsPaginate.user}}!!!!!!!!!!</h2>-->
<h2>¡¡¡¡¡¡Bienvendio {{usersPaginate.user}}!!!!!!!!!!</h2>
<h3>Lista de usuarios ingresados:</h3>

<p id="dataRender"></p>


<div class = "container">
    {{#each usersPaginate.usersPag}}
        <div class = "card">
            <div class = "title">
                <h3> EMAIL: {{email}} </h3>
            </div>
            <div class = "detalle">
                <p>NOMBRE: {{fullName}}</p>
                <p>ROL: {{role}} </p>
            </div>
            <!--<form method="post" action="http://localhost:3000/api/carts/640a9dd878ce406fba185192/products/{{id}}">
                <button class = "btnAddCart">Add to Cart</button>
            </form>-->
            <form method="post" action="http://localhost:3000/users/deleteUser/{{email}}">
                <button class = "btnAddCart">Delete user</button>
            </form>
            <button onclick="location.href='http://localhost:3000/users/premium/{{email}}'">MODIFY ROLE</button>

        </div>
    {{/each}}
</div>



<script src="/socket.io/socket.io.js"></script>
<script>
    const socketClient = io()
    
    const dataRenderProducts = document.getElementById('dataRednder')

    socketClient.on("productoAgregado",(products)=>{
        try{
            console.log("Se Agregó un producto")
            //console.log(products.products)
            window.location.reload()
        }catch(error){
            console.log(error)
        }
    })

    socketClient.on("productoEliminado",(products)=>{
        try{
            console.log("Se elimino un producto")
            //console.log(products.products)
            window.location.reload()
        }catch(error){
            console.log(error)
        }
    })
      

</script>    